<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PAMI.correlatedPattern.basic.CPGrowthPlus &mdash; Python 12.7.2023 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            Python
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../modules.html">PAMI</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">PAMI.correlatedPattern.basic.CPGrowthPlus</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for PAMI.correlatedPattern.basic.CPGrowthPlus</h1><div class="highlight"><pre>
<span></span><span class="c1"># CPGrowthPlus is one of the efficient algorithm to discover Correlated frequent patterns in a transactional database.</span>
<span class="c1">#</span>
<span class="c1">#  **Importing this algorithm into a python program**</span>
<span class="c1">#   -----------------------------------------------</span>
<span class="c1">#</span>
<span class="c1">#                 from PAMI.coveragePattern.basic import CPPG as alg</span>
<span class="c1">#</span>
<span class="c1">#                 obj = alg.CPPG(iFile, minRF, minCS, maxOR)</span>
<span class="c1">#</span>
<span class="c1">#                 obj.startMine()</span>
<span class="c1">#</span>
<span class="c1">#                 coveragePatterns = obj.getPatterns()</span>
<span class="c1">#</span>
<span class="c1">#                 print(&quot;Total number of coverage Patterns:&quot;, len(coveragePatterns))</span>
<span class="c1">#</span>
<span class="c1">#                 obj.save(oFile)</span>
<span class="c1">#</span>
<span class="c1">#                 Df = obj.getPatternsAsDataFrame()</span>
<span class="c1">#</span>
<span class="c1">#                 memUSS = obj.getMemoryUSS()</span>
<span class="c1">#</span>
<span class="c1">#                 print(&quot;Total Memory in USS:&quot;, memUSS)</span>
<span class="c1">#</span>
<span class="c1">#                 memRSS = obj.getMemoryRSS()</span>
<span class="c1">#</span>
<span class="c1">#                 print(&quot;Total Memory in RSS&quot;, memRSS)</span>
<span class="c1">#</span>
<span class="c1">#                 run = obj.getRuntime()</span>
<span class="c1">#</span>
<span class="c1">#                 print(&quot;Total ExecutionTime in seconds:&quot;, run)</span>




<span class="n">__copyright__</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2"> Copyright (C)  2021 Rage Uday Kiran</span>

<span class="s2">     This program is free software: you can redistribute it and/or modify</span>
<span class="s2">     it under the terms of the GNU General Public License as published by</span>
<span class="s2">     the Free Software Foundation, either version 3 of the License, or</span>
<span class="s2">     (at your option) any later version.</span>

<span class="s2">     This program is distributed in the hope that it will be useful,</span>
<span class="s2">     but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="s2">     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="s2">     GNU General Public License for more details.</span>

<span class="s2">     You should have received a copy of the GNU General Public License</span>
<span class="s2">     along with this program.  If not, see &lt;https://www.gnu.org/licenses/&gt;.</span>
<span class="s2">     Copyright (C)  2021 Rage Uday Kiran</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">PAMI.correlatedPattern.basic</span> <span class="kn">import</span> <span class="n">abstract</span> <span class="k">as</span> <span class="n">_ab</span>



<span class="k">class</span> <span class="nc">_Node</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A class used to represent the node of frequentPatternTree</span>

<span class="sd">    Attributes :</span>
<span class="sd">    ----------</span>
<span class="sd">        itemId: int</span>
<span class="sd">            storing item of a node</span>
<span class="sd">        counter: int</span>
<span class="sd">            To maintain the support of node</span>
<span class="sd">        parent: node</span>
<span class="sd">            To maintain the parent of every node</span>
<span class="sd">        child: list</span>
<span class="sd">            To maintain the children of node</span>
<span class="sd">        nodeLink : node</span>
<span class="sd">            Points to the node with same itemId</span>

<span class="sd">    Methods :</span>
<span class="sd">    -------</span>

<span class="sd">        getChild(itemName)</span>
<span class="sd">            returns the node with same itemName from frequentPatternTree</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">itemId</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">child</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodeLink</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">getChild</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">itemName</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieving the child from the tree</span>

<span class="sd">            :param itemName: name of the child</span>
<span class="sd">            :type itemName: list</span>
<span class="sd">            :return: returns the node with same itemName from frequentPatternTree</span>
<span class="sd">            :rtype: list</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">child</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">i</span><span class="o">.</span><span class="n">itemId</span> <span class="o">==</span> <span class="n">itemName</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">i</span>
        <span class="k">return</span> <span class="kc">None</span>


<span class="k">class</span> <span class="nc">_Tree</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A class used to represent the frequentPatternGrowth tree structure</span>

<span class="sd">    Attributes :</span>
<span class="sd">    ----------</span>
<span class="sd">        headerList : list</span>
<span class="sd">            storing the list of items in tree sorted in ascending of their supports</span>
<span class="sd">        mapItemNodes : dictionary</span>
<span class="sd">            storing the nodes with same item name</span>
<span class="sd">        mapItemLastNodes : dictionary</span>
<span class="sd">            representing the map that indicates the last node for each item</span>
<span class="sd">        root : Node</span>
<span class="sd">            representing the root Node in a tree</span>

<span class="sd">    Methods :</span>
<span class="sd">    -------</span>
<span class="sd">        createHeaderList(items,minSup)</span>
<span class="sd">            takes items only which are greater than minSup and sort the items in ascending order</span>
<span class="sd">        addTransaction(transaction)</span>
<span class="sd">            creating transaction as a branch in frequentPatternTree</span>
<span class="sd">        fixNodeLinks(item,newNode)</span>
<span class="sd">            To create the link for nodes with same item</span>
<span class="sd">        printTree(Node)</span>
<span class="sd">            gives the details of node in frequentPatternGrowth tree</span>
<span class="sd">        addPrefixPath(prefix,port,minSup)</span>
<span class="sd">           It takes the items in prefix pattern whose support is &gt;=minSup and construct a subtree</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">headerList</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapItemNodes</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapItemLastNodes</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">_Node</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">addTransaction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transaction</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adding a transaction into a tree</span>

<span class="sd">        :param transaction: it represents the one transactions in database</span>
<span class="sd">        :type transaction: list</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># This method taken a transaction as input and returns the tree</span>
        <span class="n">current</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">transaction</span><span class="p">:</span>
            <span class="n">child</span> <span class="o">=</span> <span class="n">current</span><span class="o">.</span><span class="n">getChild</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">child</span><span class="p">:</span>
                <span class="n">newNode</span> <span class="o">=</span> <span class="n">_Node</span><span class="p">()</span>
                <span class="n">newNode</span><span class="o">.</span><span class="n">itemId</span> <span class="o">=</span> <span class="n">i</span>
                <span class="n">newNode</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">current</span>
                <span class="n">current</span><span class="o">.</span><span class="n">child</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newNode</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fixNodeLinks</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">newNode</span><span class="p">)</span>
                <span class="n">current</span> <span class="o">=</span> <span class="n">newNode</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">child</span><span class="o">.</span><span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">current</span> <span class="o">=</span> <span class="n">child</span>

    <span class="k">def</span> <span class="nf">fixNodeLinks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">newNode</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Fixing node link for the newNode that inserted into frequentPatternTree</span>

<span class="sd">        :param item: it represents the item of newNode</span>
<span class="sd">        :type item: int</span>
<span class="sd">        :param newNode: it represents the newNode that inserted in frequentPatternTree</span>
<span class="sd">        :type newNode: Node</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapItemLastNodes</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">lastNode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapItemLastNodes</span><span class="p">[</span><span class="n">item</span><span class="p">]</span>
            <span class="n">lastNode</span><span class="o">.</span><span class="n">nodeLink</span> <span class="o">=</span> <span class="n">newNode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapItemLastNodes</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="o">=</span> <span class="n">newNode</span>
        <span class="k">if</span> <span class="n">item</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapItemNodes</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mapItemNodes</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="o">=</span> <span class="n">newNode</span>

    <span class="k">def</span> <span class="nf">printTree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Print the details of Node in frequentPatternTree</span>

<span class="sd">        :param root: it represents the Node in frequentPatternTree</span>
<span class="sd">        :type root: Node</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># this method is used print the details of tree</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="o">.</span><span class="n">child</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">child</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">itemId</span><span class="p">,</span> <span class="n">i</span><span class="o">.</span><span class="n">counter</span><span class="p">,</span> <span class="n">i</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">itemId</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">printTree</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">createHeaderList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mapSupport</span><span class="p">,</span> <span class="n">minSup</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        To create the headerList</span>

<span class="sd">        :param mapSupport: it represents the items with their supports</span>
<span class="sd">        :type mapSupport: dictionary</span>
<span class="sd">        :param minSup: it represents the minSup</span>
<span class="sd">        :param minSup: float</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># the frequentPatternTree always maintains the header table to start the mining from leaf nodes</span>
        <span class="n">t1</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">mapSupport</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">y</span> <span class="o">&gt;=</span> <span class="n">minSup</span><span class="p">:</span>
                <span class="n">t1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="n">itemSetBuffer</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">mapSupport</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">headerList</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">t1</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">itemSetBuffer</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">addPrefixPath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">mapSupportBeta</span><span class="p">,</span> <span class="n">minSup</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        To construct the conditional tree with prefix paths of a node in frequentPatternTree</span>

<span class="sd">        :param prefix: it represents the prefix items of a Node</span>
<span class="sd">        :type prefix: list</span>
<span class="sd">        :param mapSupportBeta: it represents the items with their supports</span>
<span class="sd">        :param mapSupportBeta: dictionary</span>
<span class="sd">        :param minSup: to check the item meets with minSup</span>
<span class="sd">        :param minSup: float</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># this method is used to add prefix paths in conditional trees of frequentPatternTree</span>
        <span class="n">pathCount</span> <span class="o">=</span> <span class="n">prefix</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">counter</span>
        <span class="n">current</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span>
        <span class="n">prefix</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">pathItem</span> <span class="o">=</span> <span class="n">prefix</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">mapSupportBeta</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pathItem</span><span class="o">.</span><span class="n">itemId</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">minSup</span><span class="p">:</span>
                <span class="n">child</span> <span class="o">=</span> <span class="n">current</span><span class="o">.</span><span class="n">getChild</span><span class="p">(</span><span class="n">pathItem</span><span class="o">.</span><span class="n">itemId</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">child</span><span class="p">:</span>
                    <span class="n">newNode</span> <span class="o">=</span> <span class="n">_Node</span><span class="p">()</span>
                    <span class="n">newNode</span><span class="o">.</span><span class="n">itemId</span> <span class="o">=</span> <span class="n">pathItem</span><span class="o">.</span><span class="n">itemId</span>
                    <span class="n">newNode</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">current</span>
                    <span class="n">newNode</span><span class="o">.</span><span class="n">counter</span> <span class="o">=</span> <span class="n">pathCount</span>
                    <span class="n">current</span><span class="o">.</span><span class="n">child</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newNode</span><span class="p">)</span>
                    <span class="n">current</span> <span class="o">=</span> <span class="n">newNode</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fixNodeLinks</span><span class="p">(</span><span class="n">pathItem</span><span class="o">.</span><span class="n">itemId</span><span class="p">,</span> <span class="n">newNode</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">child</span><span class="o">.</span><span class="n">counter</span> <span class="o">+=</span> <span class="n">pathCount</span>
                    <span class="n">current</span> <span class="o">=</span> <span class="n">child</span>


<div class="viewcode-block" id="CPGrowthPlus"><a class="viewcode-back" href="../../../../PAMI.correlatedPattern.basic.html#PAMI.correlatedPattern.basic.CPGrowthPlus.CPGrowthPlus">[docs]</a><span class="k">class</span> <span class="nc">CPGrowthPlus</span><span class="p">(</span><span class="n">_ab</span><span class="o">.</span><span class="n">_correlatedPatterns</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; </span>
<span class="sd">    :Description:    CPGrowthPlus is one of the efficient algorithm to discover Correlated frequent patterns in a transactional database.</span>
<span class="sd">                     Using Item Support Intervals technique which is generating correlated patterns of higher order by combining only with items that</span>
<span class="sd">                     have support within specified interval.</span>

<span class="sd">    :Reference:</span>
<span class="sd">        Uday Kiran R., Kitsuregawa M. (2012) Efficient Discovery of Correlated Patterns in Transactional Databases Using Items’ Support Intervals.</span>
<span class="sd">        In: Liddle S.W., Schewe KD., Tjoa A.M., Zhou X. (eds) Database and Expert Systems Applications. DEXA 2012. Lecture Notes in Computer Science, vol 7446. Springer, Berlin, Heidelberg.</span>
<span class="sd">        https://doi.org/10.1007/978-3-642-32600-4_18</span>

<span class="sd">    :param  iFile: str :</span>
<span class="sd">                   Name of the Input file to mine complete set of frequent patterns</span>
<span class="sd">    :param  oFile: str :</span>
<span class="sd">                   Name of the output file to store complete set of frequent patterns</span>
<span class="sd">    :param  minSup: int or float or str :</span>
<span class="sd">                   The user can specify minSup either in count or proportion of database size. If the program detects the data type of minSup is integer, then it treats minSup is expressed in count.</span>
<span class="sd">    :param  minAllConf: str :</span>
<span class="sd">                   Name of Neighbourhood file name</span>
<span class="sd">    :param  sep: str :</span>
<span class="sd">                   This variable is used to distinguish items from one another in a transaction. The default seperator is tab space. However, the users can override their default separator.</span>


<span class="sd">    :Attributes:</span>

<span class="sd">        memoryUSS : float</span>
<span class="sd">            To store the total amount of USS memory consumed by the program</span>
<span class="sd">        memoryRSS : float</span>
<span class="sd">            To store the total amount of RSS memory consumed by the program</span>
<span class="sd">        startTime:float</span>
<span class="sd">            To record the start time of the mining process</span>
<span class="sd">        endTime:float</span>
<span class="sd">            To record the completion time of the mining process</span>
<span class="sd">        minSup : float</span>
<span class="sd">            The user given minSup</span>
<span class="sd">        minAllConf: float</span>
<span class="sd">            The user given minimum all confidence Ratio (should be in range of 0 to 1)</span>
<span class="sd">        Database : list</span>
<span class="sd">            To store the transactions of a database in list</span>
<span class="sd">        mapSupport : Dictionary</span>
<span class="sd">            To maintain the information of item and their frequency</span>
<span class="sd">        lno : int</span>
<span class="sd">            it represents the total no of transactions</span>
<span class="sd">        tree : class</span>
<span class="sd">            it represents the Tree class</span>
<span class="sd">        itemSetCount : int</span>
<span class="sd">            it represents the total no of patterns</span>
<span class="sd">        finalPatterns : dict</span>
<span class="sd">            it represents to store the patterns</span>
<span class="sd">        itemSetBuffer : list</span>
<span class="sd">            it represents the store the items in mining</span>
<span class="sd">        maxPatternLength : int</span>
<span class="sd">           it represents the constraint for pattern length</span>

<span class="sd">    **Methods to execute code on terminal**</span>
<span class="sd">    ---------------------------------------</span>

<span class="sd">            Format:</span>
<span class="sd">                      &gt;&gt;&gt;  python3 CPPG.py &lt;inputFile&gt; &lt;outputFile&gt; &lt;minRF&gt; &lt;minCS&gt; &lt;maxOR&gt; &lt;&#39;\t&#39;&gt;</span>

<span class="sd">            Example:</span>
<span class="sd">                      &gt;&gt;&gt;   python3 CPPG.py sampleTDB.txt patterns.txt 0.4 0.7 0.5 &#39;,&#39;</span>



<span class="sd">    **Importing this algorithm into a python program**</span>
<span class="sd">    -----------------------------------------------------------------</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">                from PAMI.coveragePattern.basic import CPPG as alg</span>

<span class="sd">                obj = alg.CPPG(iFile, minRF, minCS, maxOR)</span>

<span class="sd">                obj.startMine()</span>

<span class="sd">                coveragePatterns = obj.getPatterns()</span>

<span class="sd">                print(&quot;Total number of coverage Patterns:&quot;, len(coveragePatterns))</span>

<span class="sd">                obj.save(oFile)</span>

<span class="sd">                Df = obj.getPatternsAsDataFrame()</span>

<span class="sd">                memUSS = obj.getMemoryUSS()</span>

<span class="sd">                print(&quot;Total Memory in USS:&quot;, memUSS)</span>

<span class="sd">                memRSS = obj.getMemoryRSS()</span>

<span class="sd">                print(&quot;Total Memory in RSS&quot;, memRSS)</span>

<span class="sd">                run = obj.getRuntime()</span>

<span class="sd">                print(&quot;Total ExecutionTime in seconds:&quot;, run)</span>


<span class="sd">    **Credits:**</span>
<span class="sd">    -------------</span>

<span class="sd">             The complete program was written by B.Sai Chitra under the supervision of Professor Rage Uday Kiran.</span>

<span class="sd">        &quot;&quot;&quot;</span>

    <span class="n">_startTime</span> <span class="o">=</span> <span class="nb">float</span><span class="p">()</span>
    <span class="n">_endTime</span> <span class="o">=</span> <span class="nb">float</span><span class="p">()</span>
    <span class="n">_minSup</span> <span class="o">=</span> <span class="nb">str</span><span class="p">()</span>
    <span class="n">_finalPatterns</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">_iFile</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span>
    <span class="n">_oFile</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span>
    <span class="n">_minAllConf</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="n">_memoryUSS</span> <span class="o">=</span> <span class="nb">float</span><span class="p">()</span>
    <span class="n">_memoryRSS</span> <span class="o">=</span> <span class="nb">float</span><span class="p">()</span>
    <span class="n">_Database</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">_mapSupport</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">_lno</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">_tree</span> <span class="o">=</span> <span class="nb">str</span><span class="p">()</span>
    <span class="n">_itemSetBuffer</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_fpNodeTempBuffer</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">_itemSetCount</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">_maxPatternLength</span> <span class="o">=</span> <span class="mi">1000</span>
    <span class="n">_sep</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">iFile</span><span class="p">,</span> <span class="n">minSup</span><span class="p">,</span> <span class="n">minAllConf</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">iFile</span><span class="p">,</span> <span class="n">minSup</span><span class="p">,</span> <span class="n">minAllConf</span><span class="p">,</span> <span class="n">sep</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_creatingItemSets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Storing the complete transactions of the database/input file in a database variable</span>


<span class="sd">            &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_Database</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_iFile</span><span class="p">,</span> <span class="n">_ab</span><span class="o">.</span><span class="n">_pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iFile</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;its empty..&quot;</span><span class="p">)</span>
            <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iFile</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
            <span class="k">if</span> <span class="s1">&#39;Transactions&#39;</span> <span class="ow">in</span> <span class="n">i</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_Database</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iFile</span><span class="p">[</span><span class="s1">&#39;Transactions&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_iFile</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">_ab</span><span class="o">.</span><span class="n">_validators</span><span class="o">.</span><span class="n">url</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_iFile</span><span class="p">):</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">_ab</span><span class="o">.</span><span class="n">_urlopen</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_iFile</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
                    <span class="n">temp</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sep</span><span class="p">)]</span>
                    <span class="n">temp</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">temp</span> <span class="k">if</span> <span class="n">x</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_Database</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_iFile</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
                            <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                            <span class="n">temp</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sep</span><span class="p">)]</span>
                            <span class="n">temp</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">temp</span> <span class="k">if</span> <span class="n">x</span><span class="p">]</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">_Database</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;File Not Found&quot;</span><span class="p">)</span>
                    <span class="n">quit</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_frequentOneItem</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generating One frequent items sets</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mapSupport</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_Database</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">i</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">j</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mapSupport</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_mapSupport</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_mapSupport</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">_saveItemSet</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">prefixLength</span><span class="p">,</span> <span class="n">support</span><span class="p">,</span> <span class="n">ratio</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        To save the frequent patterns mined form frequentPatternTree</span>

<span class="sd">        :param prefix: the frequent pattern</span>
<span class="sd">        :type prefix: list</span>
<span class="sd">        :param prefixLength: the length of a frequent pattern</span>
<span class="sd">        :type prefixLength: int</span>
<span class="sd">        :param support: the support of a pattern</span>
<span class="sd">        :type support:  int</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">sample</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">prefixLength</span><span class="p">):</span>
            <span class="n">sample</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prefix</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_itemSetCount</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_finalPatterns</span><span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">sample</span><span class="p">)]</span> <span class="o">=</span> <span class="p">[</span><span class="n">support</span><span class="p">,</span> <span class="n">ratio</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_saveAllCombinations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tempBuffer</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">prefixLength</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generating all the combinations for items in single branch in frequentPatternTree</span>

<span class="sd">        :param tempBuffer: items in a list</span>
<span class="sd">        :type tempBuffer: list</span>
<span class="sd">        :param s: support at leaf node of a branch</span>
<span class="sd">        :param position: the length of a tempBuffer</span>
<span class="sd">        :type position: int</span>
<span class="sd">        :param prefix: it represents the list of leaf node</span>
<span class="sd">        :type prefix: list</span>
<span class="sd">        :param prefixLength: the length of prefix</span>
<span class="sd">        :type prefixLength: int</span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">max1</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">position</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">max1</span><span class="p">):</span>
            <span class="n">newPrefixLength</span> <span class="o">=</span> <span class="n">prefixLength</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">position</span><span class="p">):</span>
                <span class="n">isSet</span> <span class="o">=</span> <span class="n">i</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">j</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">isSet</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">prefix</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">newPrefixLength</span><span class="p">,</span> <span class="n">tempBuffer</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">itemId</span><span class="p">)</span>
                    <span class="n">newPrefixLength</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">ratio</span> <span class="o">=</span> <span class="n">s</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_mapSupport</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_getMaxItem</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">newPrefixLength</span><span class="p">)]</span>
            <span class="k">if</span> <span class="n">ratio</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minAllConf</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_saveItemSet</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">newPrefixLength</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">ratio</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_frequentPatternGrowthGenerate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frequentPatternTree</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">prefixLength</span><span class="p">,</span> <span class="n">mapSupport</span><span class="p">,</span> <span class="n">minConf</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Mining the fp tree</span>

<span class="sd">        :param frequentPatternTree: it represents the frequentPatternTree</span>
<span class="sd">        :type frequentPatternTree: class Tree</span>
<span class="sd">        :param prefix: it represents a empty list and store the patterns that are mined</span>
<span class="sd">        :type prefix: list</span>
<span class="sd">        :param param prefixLength: the length of prefix</span>
<span class="sd">        :type prefixLength: int</span>
<span class="sd">        :param mapSupport : it represents the support of item</span>
<span class="sd">        :type mapSupport : dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">singlePath</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">position</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">frequentPatternTree</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">child</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">singlePath</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">currentNode</span> <span class="o">=</span> <span class="n">frequentPatternTree</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">child</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">currentNode</span><span class="o">.</span><span class="n">child</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">singlePath</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">break</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_fpNodeTempBuffer</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="n">currentNode</span><span class="p">)</span>
                <span class="n">s</span> <span class="o">=</span> <span class="n">currentNode</span><span class="o">.</span><span class="n">counter</span>
                <span class="n">position</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">currentNode</span><span class="o">.</span><span class="n">child</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">break</span>
                <span class="n">currentNode</span> <span class="o">=</span> <span class="n">currentNode</span><span class="o">.</span><span class="n">child</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">singlePath</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_saveAllCombinations</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_fpNodeTempBuffer</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">prefixLength</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">frequentPatternTree</span><span class="o">.</span><span class="n">headerList</span><span class="p">):</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">i</span>
                <span class="n">support</span> <span class="o">=</span> <span class="n">mapSupport</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">low</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">_ab</span><span class="o">.</span><span class="n">_math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">mapSupport</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_minAllConf</span><span class="p">)),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minSup</span><span class="p">)</span>
                <span class="n">high</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">_ab</span><span class="o">.</span><span class="n">_math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">mapSupport</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">/</span><span class="n">minConf</span><span class="p">)),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minSup</span><span class="p">)</span>
                <span class="n">betaSupport</span> <span class="o">=</span> <span class="n">support</span>              
                <span class="n">prefix</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">prefixLength</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="n">max1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getMaxItem</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">prefixLength</span><span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mapSupport</span><span class="p">[</span><span class="n">max1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mapSupport</span><span class="p">[</span><span class="n">item</span><span class="p">]:</span>
                    <span class="n">max1</span> <span class="o">=</span> <span class="n">item</span>
                <span class="n">ratio</span> <span class="o">=</span> <span class="n">support</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mapSupport</span><span class="p">[</span><span class="n">max1</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">ratio</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minAllConf</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_saveItemSet</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">prefixLength</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">betaSupport</span><span class="p">,</span> <span class="n">ratio</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">prefixLength</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maxPatternLength</span><span class="p">:</span>
                    <span class="n">prefixPaths</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="n">path</span> <span class="o">=</span> <span class="n">frequentPatternTree</span><span class="o">.</span><span class="n">mapItemNodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                    <span class="n">mapSupportBeta</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="k">while</span> <span class="n">path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">itemId</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                            <span class="n">prefixPath</span> <span class="o">=</span> <span class="p">[</span><span class="n">path</span><span class="p">]</span>
                            <span class="n">pathCount</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">counter</span>
                            <span class="n">parent1</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">parent</span>
                            <span class="k">if</span> <span class="n">mapSupport</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">parent1</span><span class="o">.</span><span class="n">itemId</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">low</span> <span class="ow">and</span> <span class="n">mapSupport</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">parent1</span><span class="o">.</span><span class="n">itemId</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">high</span><span class="p">:</span>
                                <span class="k">while</span> <span class="n">parent1</span><span class="o">.</span><span class="n">itemId</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                                    <span class="n">allconf</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">support</span><span class="o">/</span><span class="nb">max</span><span class="p">(</span><span class="n">mapSupport</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">parent1</span><span class="o">.</span><span class="n">itemId</span><span class="p">),</span> <span class="n">support</span><span class="p">))</span>
                                    <span class="k">if</span> <span class="n">mapSupport</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">parent1</span><span class="o">.</span><span class="n">itemId</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">allconf</span><span class="p">:</span>
                                        <span class="n">prefixPath</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parent1</span><span class="p">)</span>
                                        <span class="k">if</span> <span class="n">mapSupportBeta</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">parent1</span><span class="o">.</span><span class="n">itemId</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                                            <span class="n">mapSupportBeta</span><span class="p">[</span><span class="n">parent1</span><span class="o">.</span><span class="n">itemId</span><span class="p">]</span> <span class="o">=</span> <span class="n">pathCount</span>
                                        <span class="k">else</span><span class="p">:</span>
                                            <span class="n">mapSupportBeta</span><span class="p">[</span><span class="n">parent1</span><span class="o">.</span><span class="n">itemId</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapSupportBeta</span><span class="p">[</span><span class="n">parent1</span><span class="o">.</span><span class="n">itemId</span><span class="p">]</span> <span class="o">+</span> <span class="n">pathCount</span>
                                        <span class="n">parent1</span> <span class="o">=</span> <span class="n">parent1</span><span class="o">.</span><span class="n">parent</span>
                                    <span class="k">else</span><span class="p">:</span>
                                        <span class="k">break</span>
                                <span class="n">prefixPaths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prefixPath</span><span class="p">)</span>
                        <span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">nodeLink</span>
                    <span class="n">treeBeta</span> <span class="o">=</span> <span class="n">_Tree</span><span class="p">()</span>
                    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">prefixPaths</span><span class="p">:</span>
                        <span class="n">treeBeta</span><span class="o">.</span><span class="n">addPrefixPath</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">mapSupportBeta</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minSup</span><span class="p">)</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">treeBeta</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">child</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">treeBeta</span><span class="o">.</span><span class="n">createHeaderList</span><span class="p">(</span><span class="n">mapSupportBeta</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minSup</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_frequentPatternGrowthGenerate</span><span class="p">(</span><span class="n">treeBeta</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">prefixLength</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">mapSupportBeta</span><span class="p">,</span> <span class="n">minConf</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_convert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        to convert the type of user specified minSup value</span>
<span class="sd">        :param value: user specified minSup value</span>
<span class="sd">        :return: converted type</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">int</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">float</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_Database</span><span class="p">)</span> <span class="o">*</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">str</span><span class="p">:</span>
            <span class="k">if</span> <span class="s1">&#39;.&#39;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_Database</span><span class="p">)</span> <span class="o">*</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span>

<div class="viewcode-block" id="CPGrowthPlus.startMine"><a class="viewcode-back" href="../../../../PAMI.correlatedPattern.basic.html#PAMI.correlatedPattern.basic.CPGrowthPlus.CPGrowthPlus.startMine">[docs]</a>    <span class="k">def</span> <span class="nf">startMine</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        main program to start the operation</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_startTime</span> <span class="o">=</span> <span class="n">_ab</span><span class="o">.</span><span class="n">_time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iFile</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Please enter the file path or file name:&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minSup</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Please enter the Minimum Support&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_creatingItemSets</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_finalPatterns</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span> <span class="o">=</span> <span class="n">_Tree</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_minSup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_minSup</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_frequentOneItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mapSupport</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mapSupport</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minSup</span><span class="p">}</span>
        <span class="n">_itemSetBuffer</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_mapSupport</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_Database</span><span class="p">:</span>
            <span class="n">_transaction</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">i</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">_itemSetBuffer</span><span class="p">:</span>
                    <span class="n">_transaction</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
            <span class="n">_transaction</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">val</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mapSupport</span><span class="p">[</span><span class="n">val</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="o">.</span><span class="n">addTransaction</span><span class="p">(</span><span class="n">_transaction</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="o">.</span><span class="n">createHeaderList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_mapSupport</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minSup</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="o">.</span><span class="n">headerList</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_itemSetBuffer</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_frequentPatternGrowthGenerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_itemSetBuffer</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mapSupport</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minAllConf</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Correlated Frequent patterns were generated successfully using CorrelatedPatternGrowth algorithm&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_endTime</span> <span class="o">=</span> <span class="n">_ab</span><span class="o">.</span><span class="n">_time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="n">process</span> <span class="o">=</span> <span class="n">_ab</span><span class="o">.</span><span class="n">_psutil</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="n">_ab</span><span class="o">.</span><span class="n">_os</span><span class="o">.</span><span class="n">getpid</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_memoryRSS</span> <span class="o">=</span> <span class="nb">float</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_memoryUSS</span> <span class="o">=</span> <span class="nb">float</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_memoryUSS</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">memory_full_info</span><span class="p">()</span><span class="o">.</span><span class="n">uss</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_memoryRSS</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">memory_info</span><span class="p">()</span><span class="o">.</span><span class="n">rss</span></div>

<div class="viewcode-block" id="CPGrowthPlus.getMemoryUSS"><a class="viewcode-back" href="../../../../PAMI.correlatedPattern.basic.html#PAMI.correlatedPattern.basic.CPGrowthPlus.CPGrowthPlus.getMemoryUSS">[docs]</a>    <span class="k">def</span> <span class="nf">getMemoryUSS</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Total amount of USS memory consumed by the mining process will be retrieved from this function</span>

<span class="sd">        :return: returning USS memory consumed by the mining process</span>
<span class="sd">        :rtype: float</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_memoryUSS</span></div>

<div class="viewcode-block" id="CPGrowthPlus.getMemoryRSS"><a class="viewcode-back" href="../../../../PAMI.correlatedPattern.basic.html#PAMI.correlatedPattern.basic.CPGrowthPlus.CPGrowthPlus.getMemoryRSS">[docs]</a>    <span class="k">def</span> <span class="nf">getMemoryRSS</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Total amount of RSS memory consumed by the mining process will be retrieved from this function</span>

<span class="sd">        :return: returning RSS memory consumed by the mining process</span>
<span class="sd">        :rtype: float</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_memoryRSS</span></div>

    <span class="k">def</span> <span class="nf">_getMaxItem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">prefixLength</span><span class="p">):</span>
        <span class="n">maxItem</span> <span class="o">=</span> <span class="n">prefix</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">prefixLength</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mapSupport</span><span class="p">[</span><span class="n">maxItem</span><span class="p">]</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mapSupport</span><span class="p">[</span><span class="n">prefix</span><span class="p">[</span><span class="n">i</span><span class="p">]]:</span>
                <span class="n">maxItem</span> <span class="o">=</span> <span class="n">prefix</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">maxItem</span>
    
<div class="viewcode-block" id="CPGrowthPlus.getRuntime"><a class="viewcode-back" href="../../../../PAMI.correlatedPattern.basic.html#PAMI.correlatedPattern.basic.CPGrowthPlus.CPGrowthPlus.getRuntime">[docs]</a>    <span class="k">def</span> <span class="nf">getRuntime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculating the total amount of runtime taken by the mining process</span>


<span class="sd">        :return: returning total amount of runtime taken by the mining process</span>
<span class="sd">        :rtype: float</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_endTime</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_startTime</span></div>

<div class="viewcode-block" id="CPGrowthPlus.getPatternsAsDataFrame"><a class="viewcode-back" href="../../../../PAMI.correlatedPattern.basic.html#PAMI.correlatedPattern.basic.CPGrowthPlus.CPGrowthPlus.getPatternsAsDataFrame">[docs]</a>    <span class="k">def</span> <span class="nf">getPatternsAsDataFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Storing final frequent patterns in a dataframe</span>

<span class="sd">        :return: returning frequent patterns in a dataframe</span>
<span class="sd">        :rtype: pd.DataFrame</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">dataframe</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_finalPatterns</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">pat</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
                <span class="n">pat</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span>
            <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">pat</span><span class="p">,</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
            <span class="n">dataframe</span> <span class="o">=</span> <span class="n">_ab</span><span class="o">.</span><span class="n">_pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Patterns&#39;</span><span class="p">,</span> <span class="s1">&#39;Support&#39;</span><span class="p">,</span> <span class="s1">&#39;Confidence&#39;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">dataframe</span></div>

<div class="viewcode-block" id="CPGrowthPlus.save"><a class="viewcode-back" href="../../../../PAMI.correlatedPattern.basic.html#PAMI.correlatedPattern.basic.CPGrowthPlus.CPGrowthPlus.save">[docs]</a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">outFile</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Complete set of frequent patterns will be loaded in to a output file</span>

<span class="sd">        :param outFile: name of the output file</span>
<span class="sd">        :type outFile: file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_oFile</span> <span class="o">=</span> <span class="n">outFile</span>
        <span class="n">writer</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_oFile</span><span class="p">,</span> <span class="s1">&#39;w+&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_finalPatterns</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">pattern</span> <span class="o">=</span> <span class="nb">str</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
                <span class="n">pattern</span> <span class="o">=</span> <span class="n">pattern</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">pattern</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">s1</span><span class="p">)</span></div>

<div class="viewcode-block" id="CPGrowthPlus.getPatterns"><a class="viewcode-back" href="../../../../PAMI.correlatedPattern.basic.html#PAMI.correlatedPattern.basic.CPGrowthPlus.CPGrowthPlus.getPatterns">[docs]</a>    <span class="k">def</span> <span class="nf">getPatterns</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function to send the set of frequent patterns after completion of the mining process</span>

<span class="sd">        :return: returning frequent patterns</span>
<span class="sd">        :rtype: dict</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_finalPatterns</span></div>

<div class="viewcode-block" id="CPGrowthPlus.printResults"><a class="viewcode-back" href="../../../../PAMI.correlatedPattern.basic.html#PAMI.correlatedPattern.basic.CPGrowthPlus.CPGrowthPlus.printResults">[docs]</a>    <span class="k">def</span> <span class="nf">printResults</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total number of Correlated Patterns:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getPatterns</span><span class="p">()))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total Memory in USS:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">getMemoryUSS</span><span class="p">())</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total Memory in RSS&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">getMemoryRSS</span><span class="p">())</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total ExecutionTime in ms:&quot;</span><span class="p">,</span>  <span class="bp">self</span><span class="o">.</span><span class="n">getRuntime</span><span class="p">())</span></div></div>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">_ap</span> <span class="o">=</span> <span class="nb">str</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">_ab</span><span class="o">.</span><span class="n">_sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">5</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">_ab</span><span class="o">.</span><span class="n">_sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">_ab</span><span class="o">.</span><span class="n">_sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
            <span class="n">_ap</span> <span class="o">=</span> <span class="n">CPGrowthPlus</span><span class="p">(</span><span class="n">_ab</span><span class="o">.</span><span class="n">_sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">_ab</span><span class="o">.</span><span class="n">_sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="nb">float</span><span class="p">(</span><span class="n">_ab</span><span class="o">.</span><span class="n">_sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span> <span class="n">_ab</span><span class="o">.</span><span class="n">_sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">_ab</span><span class="o">.</span><span class="n">_sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
            <span class="n">_ap</span> <span class="o">=</span> <span class="n">CPGrowthPlus</span><span class="p">(</span><span class="n">_ab</span><span class="o">.</span><span class="n">_sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">_ab</span><span class="o">.</span><span class="n">_sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="nb">float</span><span class="p">(</span><span class="n">_ab</span><span class="o">.</span><span class="n">_sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">4</span><span class="p">]))</span>
        <span class="n">_ap</span><span class="o">.</span><span class="n">startMine</span><span class="p">()</span>
        <span class="n">_correlatedPatterns</span> <span class="o">=</span> <span class="n">_ap</span><span class="o">.</span><span class="n">getPatterns</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total number of Correlated-Frequent Patterns:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">_ap</span><span class="o">.</span><span class="n">getPatterns</span><span class="p">()))</span>
        <span class="n">_ap</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">_ab</span><span class="o">.</span><span class="n">_sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total Memory in USS:&quot;</span><span class="p">,</span> <span class="n">_ap</span><span class="o">.</span><span class="n">getMemoryUSS</span><span class="p">())</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total Memory in RSS&quot;</span><span class="p">,</span> <span class="n">_ap</span><span class="o">.</span><span class="n">getMemoryRSS</span><span class="p">())</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total ExecutionTime in seconds:&quot;</span><span class="p">,</span> <span class="n">_ap</span><span class="o">.</span><span class="n">getRuntime</span><span class="p">())</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error! The number of input parameters do not match the total number of parameters provided&quot;</span><span class="p">)</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, YYYY.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>